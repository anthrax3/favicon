<!DOCTYPE html>
<html>
  <head>
    <title>Favicon</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
  </head>
  <body>
    <script src="../build/build.js"></script>
    <script>
      var icon = require('favicon');
      var canvas = document.createElement('canvas');
      canvas.width = canvas.height = 16;
      var ctx = canvas.getContext('2d');
      ctx.font = '16px Helvetica, Arial, sans-serif';

      var nums = [0,1,2,3,4,5,6,7,8,9];
      var i = 0;

      var id = setInterval(function(){
        ctx.clearRect(0, 0, 16, 16);
        var n = nums[i++ % 10];
        ctx.fillText(n, 0, 15);
        icon(canvas.toDataURL());
      }, 300);

      setTimeout(function(){
        clearInterval(id);
        icon.reset();
      }, 3000);
    </script>
  </body>
</html>